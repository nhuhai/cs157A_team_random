October 29, 2014

Team: Random 
Members:
1. Nghia (Justin) Ngo
2. Peiyi Mao
3. Minglu Ma
4. Hai Nguyen


Project Title: Tennis Court Reservation


Database Schema: (Primary keys are unlined)


        Hai’s Version
User (uID, firstName, lastName, balance, phone); 
Roles(uID, role)
Reservation (uID, cID, date, startTime, duration, price);
Timetable (tID, cID, date, startTime, duration);
TennisCourt (cID, tID); 


        Original Version
User (uID, name, balance, phone); 
Reservation (uID, cID, date, startTime, duration, price);
Timetable (tID, cID, date, startTime, duration);
TennisCourt (cID, tID); 
Member (mID, expired, expirationDate, level, phone, birthday);


Functional Requirement:


1. Sign up for a new membership. (Members get a discount when booking)
        insert into Member values (123, John, false, “01-24-2015”, 2, “408-154-2549”, “03-02-1978”);


1. Cancel existing membership.
        delete from Member where mID = 123;


1. Extend current membership before it’s expired.
        update Member 
        set expirationDate = “01-24-2017”
        where mID=123;






1. Upgrade membership level. (Higher level gets higher discount rate)
        update Member
        set level=5
        where mID=123;


1. Make a reservation.
        insert into Reservation values (113, 5, “07:00”, 4, 100); 


1. Delete an existing reservation.
        delete from Reservation
        where uID=113 and cID=5;


1. Update an existing reservation.
        update Reservation
        set duration=6 and set price=150
        where uID=113 and cID=5;


1. Pay reservation fee.
        update User
        set balance=balance - price
        where price in (select price from Reservation where uID=123 and cID=5);


1. View all reservations.
        select *
        from Reservation;


1. View all members information.
select * 
from Member;


1. View open time slots for a specific court on a specific date.
        select *
        from Reservation
        where cID=5 and startTime not in (select startTime from Reservation);


1. View reserved time table for a specific court.
        select startTime, duration
        from Reservation
        where cID=5;








1. View open court(s) for a specific time duration.
        select cID
        from Reservation
        where cID not in (select cID from Reservation where duration=6 and startTime=”14:00”);


1. Search member information using mID.
        select *
        from User
        where mID=123;


1. Search reservation information using uID.
        select *
        from Reservation
        where uID = 113;